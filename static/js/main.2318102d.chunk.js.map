{"version":3,"sources":["components/TitleBar.jsx","components/PopulationInput.jsx","components/PopulationResult.jsx","components/PopulationCalculator.jsx","App.js","reportWebVitals.js","index.js"],"names":["TitleBar","state","className","Component","PopulationInput","this","props","popLevels","getPopAtLevel","population","shapeParameter","onPopulationChange","onShapeParameterChange","htmlFor","type","id","onChange","evt","target","value","step","disabled","href","title","data-toggle","role","aria-expanded","aria-controls","min","max","style","width","display","data","x","y","map","p","mode","marker","color","layout","height","margin","t","l","b","r","PopulationResult","getPopulationLevels","pop","format","Intl","NumberFormat","lvl","Fragment","PopulationCalculator","_","range","handlePopulationChange","setState","handleShapeParameterChange","totalPop","level","a","parseFloat","fx","Math","round","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2318102d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass TitleBar extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"bg-white py-5 text-center\">\r\n        <h2>D&amp;D world population levels</h2>\r\n        <p className=\"lead\">\r\n          The 80/20 principle (power law) applies in many contexts. It is\r\n          reasonable to expect that in the world of D&amp;D, the distribution of\r\n          character levels in the world population should follow a power law\r\n          probability distribution. This utility can tell you how many level 20\r\n          (etc.) characters should inhabit the world (other than your players).\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TitleBar;\r\n","import React, { Component } from \"react\";\r\nimport Plot from \"react-plotly.js\";\r\n\r\nclass PopulationInput extends Component {\r\n  render() {\r\n    const {\r\n      popLevels,\r\n      getPopAtLevel,\r\n      population,\r\n      shapeParameter,\r\n      onPopulationChange,\r\n      onShapeParameterChange,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"py-2\">\r\n        <form>\r\n          <div className=\"form-group row\">\r\n            <div className=\"col-lg-2 col-md-3\">\r\n              <label htmlFor=\"population\" className=\"col-form-label\">\r\n                Population\r\n              </label>\r\n            </div>\r\n            <div className=\"col-lg-4 col-md-6\">\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"population\"\r\n                onChange={(evt) => onPopulationChange(evt.target.value)}\r\n                value={population}\r\n                step={500}\r\n              />\r\n            </div>\r\n            <div className=\"form-group form-check col-lg-6 col-md-3\">\r\n              <div className=\"ml-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input my-2\"\r\n                  id=\"commonerBreakdown\"\r\n                  disabled\r\n                />\r\n                <label className=\"form-check-label\" htmlFor=\"commonerBreakdown\">\r\n                  Break down commoners into trades and professions{\" \"}\r\n                  <a\r\n                    href=\"https://donjon.bin.sh/fantasy/demographics/\"\r\n                    target=\"_blank\"\r\n                    title=\"Vaporware, just use this generator so long :)\"\r\n                  >\r\n                    <sup>&#x1F517;</sup>\r\n                  </a>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"powerCurveFactor\">\r\n              Shape Parameter (adjust power curve)\r\n              <sup>\r\n                <a\r\n                  data-toggle=\"collapse\"\r\n                  href=\"#shapeParameterInfo\"\r\n                  role=\"button\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"shapeParameterInfo\"\r\n                >\r\n                  ?\r\n                </a>\r\n              </sup>\r\n              <span className=\"badge badge-light\">\r\n                &nbsp;= {shapeParameter}\r\n              </span>\r\n            </label>\r\n            <input\r\n              type=\"range\"\r\n              className=\"form-control-range\"\r\n              id=\"powerCurveFactor\"\r\n              min=\"0.1\"\r\n              max=\"10\"\r\n              value={shapeParameter}\r\n              step=\"0.05\"\r\n              onChange={(evt) => onShapeParameterChange(evt.target.value)}\r\n            />\r\n            <p></p>\r\n          </div>\r\n        </form>\r\n        <div className=\"collapse mb-4\" id=\"shapeParameterInfo\">\r\n          <div className=\"card card-body\">\r\n            <p>\r\n              The shape parameter (&alpha;) adjusts how quickly the power curve\r\n              falls off. A higher value will mean that the higher levels are\r\n              much more rare.\r\n            </p>\r\n            <p>\r\n              The Pareto principle (80-20 rule) applies to many real-world\r\n              distributions. For example, 80% of the people live in 20% of the\r\n              settlements; or, 80% of the oil is found in 20% of the oil fields.\r\n              The 80-20 rule corresponds to a shape parameter of\r\n              &alpha;&nbsp;&asymp;&nbsp;1.161.\r\n            </p>\r\n            <p>\r\n              If your fantasy world has experience points distributed among the\r\n              population in a similar way to how wealth or resources are\r\n              distributed in the real world, then set the scale parameter to\r\n              1.15 or 1.20.\r\n            </p>\r\n            <p>\r\n              If high level characters are much more rare in your fantasy world,\r\n              then set the scale parameter to a higher value.\r\n            </p>\r\n            <p>\r\n              The <i>Population</i> input can also be set to a the population of\r\n              a town, city or province to determine how many high level\r\n              characters to expect in that region.\r\n            </p>\r\n            <p>\r\n              The XP requirement for each character level in 5th Edition follows\r\n              an exponential curve that is approximately defined by the{\" \"}\r\n              <a href=\"https://www.desmos.com/calculator/ntxr8zoaq0\">\r\n                following function\r\n              </a>\r\n              :\r\n              <br />\r\n              <i>\r\n                346.793 &times; lvl\r\n                <sup>2.34618</sup>\r\n              </i>{\" \"}\r\n              (with R&sup2; = 0.9988)\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mx-auto\" style={{ width: 500, display: \"block\" }}>\r\n          <Plot\r\n            data={[\r\n              {\r\n                x: popLevels,\r\n                y: popLevels.map((p) => getPopAtLevel(population, p)),\r\n                type: \"scatter\",\r\n                mode: \"lines+markers\",\r\n                marker: { color: \"blue\" },\r\n              },\r\n            ]}\r\n            layout={{\r\n              width: 500,\r\n              height: 350,\r\n              margin: { t: 10, l: 50, b: 50, r: 50 },\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopulationInput;\r\n","import React, { Component } from \"react\";\r\n\r\nclass PopulationResult extends Component {\r\n  getPopulationLevels = () => {\r\n    const pop = this.props.population || 1000000;\r\n\r\n    const format = new Intl.NumberFormat(\"en-GB\").format;\r\n\r\n    return this.props.popLevels.map((lvl) => (\r\n      <React.Fragment key={lvl}>\r\n        <div className=\"row mb-3 m-1\" key={\"row\" + { lvl }}>\r\n          <div className=\"col-md-3\" key={\"level\" + { lvl }}>\r\n            Level {lvl}\r\n          </div>\r\n          <div className=\"col-md-2 text-right\" key={\"pop\" + { lvl }}>\r\n            {format(this.props.getPopAtLevel(pop, lvl))}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    ));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"min-vh-100 bg-light p-2\">\r\n        <h4>Population table</h4>\r\n        {this.getPopulationLevels()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopulationResult;\r\n","import React, { Component } from \"react\";\r\nimport PopulationInput from \"./PopulationInput\";\r\nimport PopulationResult from \"./PopulationResult\";\r\nimport _ from \"lodash\";\r\n\r\nclass PopulationCalculator extends Component {\r\n  state = { population: 1000000, shapeParameter: 1.15, popLevels: _.range(21) };\r\n\r\n  handlePopulationChange = (population) => {\r\n    if (population < 1) {\r\n      population = 1;\r\n    }\r\n    this.setState({ population });\r\n  };\r\n\r\n  handleShapeParameterChange = (shapeParameter) => {\r\n    this.setState({ shapeParameter });\r\n  };\r\n  getPopAtLevel = (totalPop, level) => {\r\n    const a = parseFloat(this.state.shapeParameter);\r\n    const m = 1;\r\n    const x = level + 1;\r\n    let fx = (a * m ** a) / x ** (a + 1) / a;\r\n    return Math.round(totalPop * fx);\r\n  };\r\n\r\n  render() {\r\n    const { shapeParameter, popLevels } = this.state;\r\n    return (\r\n      <div>\r\n        <PopulationInput\r\n          onPopulationChange={this.handlePopulationChange}\r\n          onShapeParameterChange={this.handleShapeParameterChange}\r\n          shapeParameter={shapeParameter}\r\n          popLevels={popLevels}\r\n          getPopAtLevel={this.getPopAtLevel}\r\n          population={this.state.population}\r\n        />\r\n        <hr />\r\n        <PopulationResult\r\n          population={this.state.population}\r\n          shapeParameter={shapeParameter}\r\n          popLevels={popLevels}\r\n          getPopAtLevel={this.getPopAtLevel}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopulationCalculator;\r\n","import \"./App.css\";\r\nimport TitleBar from \"./components/TitleBar\";\r\nimport PopulationCalculator from \"./components/PopulationCalculator\";\r\nimport React from \"react\";\r\n\r\nfunction App() {\r\n  return (\r\n    <React.Fragment>\r\n      <main role=\"main\" className=\"container\">\r\n        <TitleBar />\r\n        <PopulationCalculator />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"jquery\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}